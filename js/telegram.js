class TelegramBotSetup{constructor(t){this.token=t,this.requestUrl="https://api.telegram.org/bot"}api(t,i,a){return new Promise((e,n)=>{fetch(this.requestUrl+this.token+t,{method:i,body:a}).then(t=>{e(t.json())}).catch(t=>{n(t)})})}}class Bot extends TelegramBotSetup{constructor(t,i){super(t),this.dcid=i}async getUpdates(){try{let t=await this.api("/getUpdates","GET");return await t}catch(i){return await i}}async getMe(){try{let t=await this.api("/getMe","GET");return await t}catch(i){return await i}}async sendMessage(t,i,a,e){try{let n=await this.api(`/sendMessage?text=${t}&chat_id=${i||this.dcid}&parse_mode=${a||"html"}&disable_notification=${!!e&&e}`,"GET");return await n}catch(s){return await s}}async sendPhoto(t,i,a,e,n){try{if(t.startsWith("#")){let s=document.getElementById(t.replace("#","")),d=new FormData;d.append("photo",s.files[0]);let o=await this.api(`/sendPhoto?caption=${i||""}&chat_id=${a||this.dcid}&parse_mode=${e||"html"}&disable_notification=${!!n&&n}`,"POST",d);return await o}if("string"==typeof t){let c=await this.api(`/sendPhoto?photo=${t}&caption=${i||""}&chat_id=${a||this.dcid}&parse_mode=${e||"html"}&disable_notification=${!!n&&n}`,"GET");return await c}}catch(r){return await r}}async sendAudio(t,i,a,e,n){try{if(t.startsWith("#")){let s=document.getElementById(t.replace("#","")),d=new FormData;d.append("audio",s.files[0]);let o=await this.api(`/sendAudio?caption=${i||""}&chat_id=${a||this.dcid}&parse_mode=${e||"html"}&disable_notification=${!!n&&n}`,"POST",d);return await o}if("string"==typeof t){let c=await this.api(`/sendAudio?audio=${t}&caption=${i||""}&chat_id=${a||this.dcid}&parse_mode=${e||"html"}&disable_notification=${!!n&&n}`,"GET");return await c}}catch(r){return await r}}async sendVoice(t,i,a,e,n){try{if(t.startsWith("#")){let s=document.getElementById(t.replace("#","")),d=new FormData;d.append("voice",s.files[0]);let o=await this.api(`/sendVoice?caption=${i||""}&chat_id=${a||this.dcid}&parse_mode=${e||"html"}&disable_notification=${!!n&&n}`,"POST",d);return await o}if("string"==typeof t){let c=await this.api(`/sendVoice?voice=${t}&caption=${i||""}&chat_id=${a||this.dcid}&parse_mode=${e||"html"}&disable_notification=${!!n&&n}`,"GET");return await c}}catch(r){return await r}}async sendVideo(t,i,a,e,n){try{if(t.startsWith("#")){let s=document.getElementById(t.replace("#","")),d=new FormData;d.append("video",s.files[0]);let o=await this.api(`/sendVideo?caption=${i||""}&chat_id=${a||this.dcid}&parse_mode=${e||"html"}&disable_notification=${!!n&&n}`,"POST",d);return await o}if("string"==typeof t){let c=await this.api(`/sendVideo?video=${t}&caption=${i||""}&chat_id=${a||this.dcid}&parse_mode=${e||"html"}&disable_notification=${!!n&&n}`,"GET");return await c}}catch(r){return await r}}async sendFile(t,i,a,e,n){try{if(t.startsWith("#")){let s=document.getElementById(t.replace("#","")),d=new FormData;d.append("document",s.files[0]);let o=await this.api(`/sendDocument?caption=${i||""}&chat_id=${a||this.dcid}&parse_mode=${e||"html"}&disable_notification=${!!n&&n}`,"POST",d);return await o}if("string"==typeof t){let c=await this.api(`/sendDocument?document=${t}&caption=${i||""}&chat_id=${a||this.dcid}&parse_mode=${e||"html"}&disable_notification=${!!n&&n}`,"GET");return await c}}catch(r){return await r}}async sendContact(t,i,a,e,n,s){try{let d=await this.api(`/sendContact?phone_number=${t}&first_name=${i}&last_name=${a||""}&chat_id=${e||this.dcid}&parse_mode=${n||"html"}&disable_notification=${!!s&&s}`,"GET");return await d}catch(o){return await o}}async sendLocation(t,i,a,e,n){try{let s=await this.api(`/sendLocation?latitude=${t}&longitude=${i}&chat_id=${a||this.dcid}&parse_mode=${e||"html"}&disable_notification=${!!n&&n}`,"GET");return await s}catch(d){return await d}}async sendPoll(t,i,a,e,n){try{let s=`/sendPoll?question=${t}&options=${JSON.stringify(i)}&chat_id=${e||this.dcid}&disable_notification=${!!n&&n}`;for(let d in a)s+=`&${d}=${a[d]}`;let o=await this.api(s,"GET");return await o}catch(c){return await c}}}